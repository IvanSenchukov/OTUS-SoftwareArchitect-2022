Цель:

В этом Дз вы научитесь проектировать взаимодействие и оценивать решение

  

Описание/Пошаговая инструкция выполнения домашнего задания:

Необходимо описать взаимодействие сервисов и оценить архитектурное решение.  
Для каждого критичного сценария

1.  Создать диаграмму последовательности (sequence diagram)
2.  Сделать оценку атрибутов качества с помощью конкретных сценариев и характеристик ИТ системы


# Критические сценарии и критические атрибуты качества

![ДЗ5.drawio.png](https://github.com/IvanSenchukov/OTUS-SoftwareArchitect-2022/blob/master/HW5/%D0%94%D0%975.drawio.png)

# Оценка атрибутов качества

## Проектные характеристики

### Стоимость изменений

CAPEX = Стоимость разработки модулей + Стоимость настройки БД + Стоимость настройки брокера + Стоимость развёртывания модулей

OPEX = Стоимость поддержки

## Производительность

### Время ответа
Время ответа = t(путь запроса по сети) + t(аутентификация) + t(сохраниние в БД) + t(запись сообщения в брокер)

### Пропускная способность
Пропускная способность = N * пропускная_способность(Модуль исполнения кода)

## Модифицируемость

Оценка производилась в [2 - ADR - Модель данных](https://github.com/IvanSenchukov/OTUS-SoftwareArchitect-2022/blob/master/HW2/%D0%94%D0%97%20-%202%20-%20%D0%94%D0%B5%D0%BA%D0%BE%D0%BC%D0%BF%D0%BE%D0%B7%D0%B8%D1%86%D0%B8%D1%8F%20%D0%B8%20%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%BE%D0%BD%D0%B0%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5%20%D0%BA%D0%BE%D0%BC%D0%BF%D0%BE%D0%BD%D0%B5%D0%BD%D1%82%D1%8B.md)

## Отказоустойчивость.

- При отказе БД Системы API не сможет зарегистрировать новые решения студентов и обрабатывать повествования по зарегистрированным.
    - Необходимо предусмотреть мероприятия по сохранению бэкапов БД;
- При отказе модуля исполнения кода по-умолчанию проблем не возникнет - после перезапуска модуля он потребит все сообщения с заданиями из брокера.
    - В случае необходимости в реализации функционала повторной проверки решений необходимо учесть возможность отказа модуля запуска кода - при повторном запуске может быть создано слишком много ненужных заданий на проверку решений.

Для своевременного обнаружения отаказов необходимо предусмотреть систему мониторинга и алертинга - есть вероятность, что Университет не сможет выделить круглосуточного дежурного администратора;

## Масштабируемость

### Сценарий роста нагрузки

Рост нагрузки может скзаться только на модуль "API приложения" - модули исполнения кода работают в режиме подписчиков, поэтому они масштабируются в сценарии "Увеличение объема"

Рост нагрузки предсказуем - в нужное время команда поддержки может добавить ресурс.

Для реализации масштабирования модуля "API приложения" необходимо добавление балансировщика.

### Сценарий роста объема данных

Рост объема предсказуем - в нужное время команда разработки может поднять дополнительные инстансы исполнителей кода.

### Стоимость масштабирования

- При сценарии роста нагрузки - C(настройки инстанса "API приложения") + C(настройка балансировщика)
- При сценарии роста объема - C(настройки инстанса модуля "исполнителя кода")
