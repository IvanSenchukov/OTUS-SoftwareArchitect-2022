Анализ требований и подготовка архитектурному решению

Цель:

В этом домашнем задании вы проведёте анализ требований и предложите архитектурное решение.

Описание/Пошаговая инструкция выполнения домашнего задания:

Возьмите любую из архитектурных ката Нила Форда [https://nealford.com/katas/list.html](https://nealford.com/katas/list.html "https://nealford.com/katas/list.html") , либо возьмите кейс из своей работы (который вам близок) и для него опишите:

0. Бизнес-контекст
1.  Бизнес-цели и бизнес-драйверы
2.  Стейкхолдеров и их потребности
3.  Пользовательские истории
4.  Атрибуты качества (и не функциональные требования)
5.  Изобразите контекстную схему системы
6.  Критические сценарии и критические характеристики
7.  2 первых архитектурных решения запишите в виде ADR Задание со звездочкой* КЕЙС. Хочется иметь для разных сервисов возможность эти сервисы конфигурировать в реальном времени. Чтобы обновления подхватывались не только в момент рестарта из environment-переменых или конфигурационных файлов, но и в реалтайме. Предполагается для этого использовать единое приложение - систему управления параметрами. Через веб-интерфейс можно изменить конфигурацию. После чего, не более чем через минуту эти изменения должны подхватываться читающими сервисами. Опишите
8.  Бизнес-контест и целиЕсли контекста не достаточно по условиям задачи, можете задать вопрос мне, но в обязательно порядке ответ зафиксируйте
9.  Критические сценарии и критические характеристики
10.  Несколько альтернативных решений с оценкой рисков, возможностей и т.д.
11.  Сравнительная оценка альтернатив, и базовое решение
12.  Окончательное архитектурное решение оформите в виде ADR


# 0. Постановка задачи

## [Проверь свою работу](http://nealford.com/katas/kata?id=CheckYourWork "Check Your Work")

Университет значительно расширил свой курс по Компьютерным наукам и хочет иметь возможность автоматизировать процесс простановки оценок для простых задач по программированию.

- Количество пользователей - 300+ студентов в год, преподаватели, администратор

Требования:
- У студентов должна быть возможность загружать исходные коды своих решений в систему для их запуска, проверки и оценки.
- Оценки и запуски должны быть сохранены и доступны для аудита.
- Применяемая система антиплагиата должна включать в себя сравнение с решениями других студентов, а также отправку решений на проверку в сервис (TurnItIn)
- Система должна быть интегрирована с текущей Системой Управления Учебный Процессом университета (Learning Management System, LMS).
- Преподаватели устанавливают конечную дату приёма решений на проверку, после которой все загруженные решения отклоняются.
- Студенты имеют возможность загружать столько решений, сколько им нужно для улучшения своих оценок.
- Преподаватели определяют критерии оценки, которые могут включать в себя метрики и/или тесты.

Дополнительный контекст:
- LMS система университета основана на мэйнфрейме. Внесение изменений в неё очень затратно.
- Оценки проверяются каждый год государственным регулирующим органом.
- У университета есть очень маленький бюджет на IT, поскольку в настоящий момент происходит постройка дополнительного стадиона для игр в мяч.
- Университет считается передовым с точки зрения компьютерных наук.


# 1. Бизнес-цели и бизнес-драйверы
- Бизнес-цели
    - Реализация Системы проверки простых заданий по программированию для разных языков программирования;
    - Реализация хранения всех версий решений, предложенных студентами, для аудита;
    - Реализация интеграции системы проверки заданий по программированию с системой проверки антиплагиата;
    - Реализация интеграции системы проверки заданий по программированию с Системой Управления Учебным процессом
- Бизнес-драйверы
    - Ограниченный бюджет
    - Стремление к сохранению и поддержанию репутации университета в качестве передового по ИТ
    - Безопасность
        - сохранение данных о студентах
        - Минимизация риска попадания задач по программированию и решений в общий доступ.

# 2. Стейкхолдеры и их потребности
- Руководство университета
    - Снять заботы по рутинной проверке простых заданий по программированию с преподавателей;
    - Возможность использовать баллы, выставленные студенту Системой в Системе Управления Учебным Процессом
    - Возможность предоставить Государственному Регулирующему Органу необходимую для аудита информацию.
    - Сохранение и поддержание репутации Университета
    - Сохранение ноу-хау в вопросах формирования заданий для студентов
- Преподаватели
    - Возможность автоматической проверки задач по программированию;
    - Возможность назначить задачу студенту / группе студентов;
    - Возможность указания критериев оценки;
    - Возможность установить конечную дату;
    - Возможность проследить прогресс студента с помощью проведения аудита его решений;
    - Возможность проверить решение студента на плагиат;
- Студенты
    - Возможность загрузить своё решение в Систему Проверки;
    - После успешной сдачи задания - автоматическая простановка баллов в Системе Управления Учебным Процессом;
    - Возможность повторной сдачи задания для повышения своего балла;
    - Своевременное оповещение об обнаружении плагиата с тем, чтобы иметь возможность исправить ошибки;
- Государственный регулирующий орган
    - Возможность проверить оценки студентов в рамках ежегодной проверки.

# 3. Пользовательские истории

### Руководство Университета

Как Руководитель Университета
Я хочу, чтобы задания, которые  Преподаватели задают Студентам, проверялись автоматически с помощью Системы,
Для того, чтобы:
- повысить качество обучения программированию на начальном этапе
- снизить нагрузку Преподавателей
- повысить репутацию Университета

Как Руководитель Университета
Я хочу, чтобы баллы, которые Система проставляет решениям Студентов, автоматически попадали в Систему Управления Учебным  Процессом
Для того, чтобы не делать это вручную и не создавать лишнюю нагрузку на Преподавателей

Как Руководитель Университета
Я хочу, чтобы решения, проверенные Системой сохранялись в виде, удобном для предоставления Государственному Регулирующему Органу на аудит
Для того, чтобы:
- Выполнить требования регулятора;
- Не тратить время на ручной сбор статистики;

Как Руководитель Университета
Я хочу, чтобы задания, которые преподаватели назначают на студентов, не попадали в общественное пространство
Для того, чтобы сохранить ноу-хау преподавания студентам

Как Руководитель Университета
Я хочу, чтобы риск утечки персональных данных пользователей Системы был минимальным
Для того, чтобы сохранить репутацию Университета


### Преподаватель

Как Преподаватель
Я хочу, чтобы задания, которые  Я задаю Студентам, проверялись автоматически с помощью Системы,
Для того, чтобы:
- повысить качество обучения программированию на начальном этапе
- минимизировать рутинную работу

Как Преподаватель
Я хочу, чтобы задания, которые Я ввожу в Систему, могли быть назначены на Студента или Группу Студентов
Для того, чтобы:
- каждый Студент знал, какие задания ему необходимо выполнить.

Как Преподаватель
Я хочу иметь возможность вводить для каждой созданной мной Задачи Критерии Оценки
Для того, чтобы иметь возможность оценить успешность выполнения Студентом задания

Как Преподаватель
Я хочу иметь возможность указывать для каждой Задачи Конечную Дату
Для того, чтобы установить промежуток времени, за который успевающий студент должен сдать задачу;

Как Преподаватель
Я хочу иметь возможность видеть все предложенные Студентом Решения Задач
Для того, чтобы иметь возможность проследить прогресс навыков Студента

Как Преподаватель
Я хочу иметь возможность проверить решение студента на плагиат
Для того, чтобы не допустить получение недобросовестными студентами положительной оценки.

Как Преподаватель
Я хочу, чтобы баллы, которые Система назначила Решению Студента, корректно попадали в Систему Управления Учебным Процессом
Для того, чтобы:
- Выполнение Студентами заданий напрямую влияло на их успеваемость
- Минимизировать рутинную работу по переносу оценок из одной Системы в другую.


### Студент

Как Студент
Я хочу иметь возможность видеть назначенные на меня Задания
Для того, чтобы знать, какие задания мне необходимо выполнить

Как Студент
Я хочу иметь возможность загрузить своё решение в Систему
Для того, чтобы иметь возможность получить оценку

Как Студент
Я хочу иметь возможность повторно загрузить своё решение в Систему
Для того, чтобы иметь возможность повысить свою оценку

Как Студент
Я хочу иметь возможность видеть оценки, выставленные за выполнение мной решений
Для того, чтобы оценить, необходимо ли мне пересдавать текущее задание, или нет

Как Студент
Я хочу иметь возможность видеть статус проверки моего Решения на плагиат
Для того, чтобы оценить, необходимо ли мне пересдавать текущее задание или нет

Как Студент
Я хочу, чтобы Система автоматически обновляла Оценки, выставленные за мои решения в Системе Управления Рабочим Процессом
Для того, чтобы выполненные мной задания влияли на мою успеваемость.

### Государственный Регулирующий Орган

Как сотрудник Государственного Регулирующего Органа
Я хочу иметь возможность получать информацию из системы в удобном для аудита виде
Для того, чтобы:
- Упростить проведение аудита
- Получить более глубокие знания о квалификации Студентов


# 4. Атрибуты качества (и не функциональные требования)
* Проверяемость (возможность посмотреть и запустить проверку любого варианта решения студента)
* Ограниченный бюджет
* Безопасность (задания и решения студентов не должны быть общедоступны)


# 5. Изобразите контекстную схему системы

()

# Критические сценарии и критические атрибуты качества

- Преподаватель создаёт задание, определяет критерии приёмки и назначает задание студентам - задание становится доступным для решения студентами в течение 15 минут.
- Преподаватель проверяет код студентов - список вариантов студента должен появиться не более чем через 5 секунд. Отображение варианта студента зависит от объема решения.
- Студент сдаёт задание. Время функциональной проверки задания зависит от решения студента (накодил вечный цикл - зависнет). Время проверки на антиплагиат - внутри системы в течение 5 минут, в системе TurnItIn - зависит от параметров системы.
- Неавторизованный пользователь пытается загрузить задание или решения студента - система отклоняет запрос.
- Государственнй проверяющий орган получает данные для ежегодного аудита - данные по всем решениям студентов в течение года должны загрузиться не более чем за 2 часа.

# [Проверь свою работу](http://nealford.com/katas/kata?id=CheckYourWork "Check Your Work")

* Статус: На согласовании
* Комиссия: Иван Сенчуков
* Дата: 2022-05-04

Technical Story: OTUS-SA-HW-1

## Контекст и описание проблемы

Университет значительно расширил свой курс по Компьютерным наукам и хочет иметь возможность автоматизировать процесс простановки оценок для простых задач по программированию.

Требования:
- У студентов должна быть возможность загружать исходные коды своих решений в систему для их запуска, проверки и оценки.
- Оценки и запуски должны быть сохранены и доступны для аудита.
- Применяемая система антиплагиата должна включать в себя сравнение с решениями других студентов, а также отправку решений на проверку в сервис (TurnItIn)
- Система должна быть интегрирована с текущей Системой Управления Учебный Процессом университета (Learning Management System, LMS).
- Преподаватели устанавливают конечную дату приёма решений на проверку, после которой все загруженные решения отклоняются.
- Студенты имеют возможность загружать столько решений, сколько им нужно для улучшения своих оценок.
- Преподаватели определяют критерии оценки, которые могут включать в себя метрики и/или тесты.

Дополнительный контекст:
- LMS система университета основана на мэйнфрейме. Внесение изменений в неё очень затратно.
- Оценки проверяются каждый год государственным регулирующим органом.
- У университета есть очень маленький бюджет на IT, поскольку в настоящий момент происходит постройка дополнительного стадиона для игр в мяч.
- Университет считается передовым с точки зрения компьютерных наук.

## Архитектурные драйверы

* Проверяемость (возможность посмотреть и запустить проверку любого варианта решения студента)
* Ограниченный бюджет
* Безопасность (задания и решения студентов не должны быть общедоступны)


## Рассматриваемые варианты

* **Реализация решения самостоятельно в виде отдельного сервиса**
* Реализация решения самостоятельно в виде модуля LMS
* Интеграция с существующими платформами (например, [CodeWars](https://www.codewars.com/))

## Принятое решение

Принятое решение - Реализация решения самостоятельно в виде отдельного сервиса.

В отличие от варианта 2 - Реализация решения в виде отдельного модуля LMS - принятое решение кажется более выгодным экономически. Затраты на реализацию интеграционного адаптера с LMS будут стоить меньше, чем реализация всего функционала Системы в трудном для поддержания коде LMS.

В отличие от варианта 3 - Интеграция с существующими платформами - принятое решение выглядит более затратным, но значительно более безопасным, как с точки зрения дальнейшего развития Системы, так и с точки зрения сохранения ноу-хау учебного процесса Университета.

### Положительные последствия

* Университет получает Систему проверки заданий по программированию в виде отдельного сервиса;
* Реализация сервиса может быть осуществлена с помощью современных средств разработки ПО, при минимальном воздействии на трудный в поддержке код LMS;
* Стратегия развития решения остаётся полностью в руках Университета;
* Предоставление доступа к Системе может быть произведено из внутренней сети Университета, что повышает безопасность решения;

### Негативные последствия

* Отсутствие возможности сэкономить на разработке модуля проверки заданий;
* Необходимость самостоятельно реализовывать логику аутентификации пользователей (вероятность ошибок);
* Необходимость администрировать отдельный сервис;

## Оценка предложенных вариантов

### Реализация решения самостоятельно в виде отдельного сервиса

* Хорошо, поскольку стратегия развития решения полностью в наших руках (в отличие от варианта с интеграцией с Вендором)
* Хорошо с точки зрения безопасности, поскольку есть возможность предоставить доступ к системе только во внутренней сети Университета.
* Плохо, поскольку могут потребоваться значительные расходы на разработку системы проверки решений для различных языков программирования
* Плохо, поскольку потребуется разработка интеграции с LMS, TurnItIn и Государственным Регулирующим Органом;
* Плохо, поскольку потребуются отдельные расходы на администрирование сервиса;

### Реализация решения самостоятельно в виде модуля LMS

* Хорошо, поскольку стратегия развития решения полностью в наших руках (в отличие от варианта с интеграцией с Вендором)
* Хорошо с точки зрения безопасности, поскольку есть возможность предоставить доступ к системе только во внутренней сети Университета.
* Хорошо, поскольку такой подход избавляет нас от необходимости интеграции с LMS;
* Хорошо, поскольку не потребуются дополнительные расходы на администрирование системы;
* Плохо, поскольку код LMS очень дорог в поддержке;
* Плохо, поскольку могут потребоваться значительные расходы на разработку системы проверки решений для различных языков программирования

### Интеграция с существующими платформами

* Хорошо, потому что не придётся разрабатывать систему проверки решений для большого количества языков программирования
* Плохо, потому что такой подход не избавляет от необходимости разрабатывать интеграции с LMS, системой антиплагиата, Базой данных версий решений.
* Есть риск того, что репутация Университета пострадает, если управление вендорской платформой будет осуществляться неэффективно (например, утечка данных студентов и преподавателей, зарегистрированных на платформе). Вероятности повышения репутации нет, поскольку у Университета она итак имеется
* Плохо, потому что решение Платформы может не соответствовать политике Университета (например может отсутствовать возможность не представлять задания и решения в общественное пространство)

## Ссылки

*  [CodeWars](https://www.codewars.com/)