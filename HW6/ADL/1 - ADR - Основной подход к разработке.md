# [Проверь свою работу](http://nealford.com/katas/kata?id=CheckYourWork "Check Your Work")

* Статус: На согласовании
* Комиссия: Иван Сенчуков
* Дата: 2022-05-04

Technical Story: OTUS-SA-HW-1

## Контекст и описание проблемы

Университет значительно расширил свой курс по Компьютерным наукам и хочет иметь возможность автоматизировать процесс простановки оценок для простых задач по программированию.

Требования:
- У студентов должна быть возможность загружать исходные коды своих решений в систему для их запуска, проверки и оценки.
- Оценки и запуски должны быть сохранены и доступны для аудита.
- Применяемая система антиплагиата должна включать в себя сравнение с решениями других студентов, а также отправку решений на проверку в сервис (TurnItIn)
- Система должна быть интегрирована с текущей Системой Управления Учебный Процессом университета (Learning Management System, LMS).
- Преподаватели устанавливают конечную дату приёма решений на проверку, после которой все загруженные решения отклоняются.
- Студенты имеют возможность загружать столько решений, сколько им нужно для улучшения своих оценок.
- Преподаватели определяют критерии оценки, которые могут включать в себя метрики и/или тесты.

Дополнительный контекст:
- LMS система университета основана на мэйнфрейме. Внесение изменений в неё очень затратно.
- Оценки проверяются каждый год государственным регулирующим органом.
- У университета есть очень маленький бюджет на IT, поскольку в настоящий момент происходит постройка дополнительного стадиона для игр в мяч.
- Университет считается передовым с точки зрения компьютерных наук.

## Архитектурные драйверы

* Проверяемость (возможность посмотреть и запустить проверку любого варианта решения студента)
* Ограниченный бюджет
* Безопасность (задания и решения студентов не должны быть общедоступны)


## Рассматриваемые варианты

* **Реализация решения самостоятельно в виде отдельного сервиса**
* Реализация решения самостоятельно в виде модуля LMS
* Интеграция с существующими платформами (например, [CodeWars](https://www.codewars.com/))

## Принятое решение

Принятое решение - Реализация решения самостоятельно в виде отдельного сервиса.

В отличие от варианта 2 - Реализация решения в виде отдельного модуля LMS - принятое решение кажется более выгодным экономически. Затраты на реализацию интеграционного адаптера с LMS будут стоить меньше, чем реализация всего функционала Системы в трудном для поддержания коде LMS.

В отличие от варианта 3 - Интеграция с существующими платформами - принятое решение выглядит более затратным, но значительно более безопасным, как с точки зрения дальнейшего развития Системы, так и с точки зрения сохранения ноу-хау учебного процесса Университета.

### Положительные последствия

* Университет получает Систему проверки заданий по программированию в виде отдельного сервиса;
* Реализация сервиса может быть осуществлена с помощью современных средств разработки ПО, при минимальном воздействии на трудный в поддержке код LMS;
* Стратегия развития решения остаётся полностью в руках Университета;
* Предоставление доступа к Системе может быть произведено из внутренней сети Университета, что повышает безопасность решения;

### Негативные последствия

* Отсутствие возможности сэкономить на разработке модуля проверки заданий;
* Необходимость самостоятельно реализовывать логику аутентификации пользователей (вероятность ошибок);
* Необходимость администрировать отдельный сервис;

## Оценка предложенных вариантов

### Реализация решения самостоятельно в виде отдельного сервиса

* Хорошо, поскольку стратегия развития решения полностью в наших руках (в отличие от варианта с интеграцией с Вендором)
* Хорошо с точки зрения безопасности, поскольку есть возможность предоставить доступ к системе только во внутренней сети Университета.
* Плохо, поскольку могут потребоваться значительные расходы на разработку системы проверки решений для различных языков программирования
* Плохо, поскольку потребуется разработка интеграции с LMS, TurnItIn и Государственным Регулирующим Органом;
* Плохо, поскольку потребуются отдельные расходы на администрирование сервиса;

### Реализация решения самостоятельно в виде модуля LMS

* Хорошо, поскольку стратегия развития решения полностью в наших руках (в отличие от варианта с интеграцией с Вендором)
* Хорошо с точки зрения безопасности, поскольку есть возможность предоставить доступ к системе только во внутренней сети Университета.
* Хорошо, поскольку такой подход избавляет нас от необходимости интеграции с LMS;
* Хорошо, поскольку не потребуются дополнительные расходы на администрирование системы;
* Плохо, поскольку код LMS очень дорог в поддержке;
* Плохо, поскольку могут потребоваться значительные расходы на разработку системы проверки решений для различных языков программирования

### Интеграция с существующими платформами

* Хорошо, потому что не придётся разрабатывать систему проверки решений для большого количества языков программирования
* Плохо, потому что такой подход не избавляет от необходимости разрабатывать интеграции с LMS, системой антиплагиата, Базой данных версий решений.
* Есть риск того, что репутация Университета пострадает, если управление вендорской платформой будет осуществляться неэффективно (например, утечка данных студентов и преподавателей, зарегистрированных на платформе). Вероятности повышения репутации нет, поскольку у Университета она итак имеется
* Плохо, потому что решение Платформы может не соответствовать политике Университета (например может отсутствовать возможность не представлять задания и решения в общественное пространство)

## Ссылки

*  [CodeWars](https://www.codewars.com/)






# 1. Модели предметной области

### 1.1 Решение 1

![image - 1.1. - Модель предметной области - 1.png](https://github.com/IvanSenchukov/OTUS-SoftwareArchitect-2022/blob/master/HW2/image%20-%201.1.%20-%20%D0%9C%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C%20%D0%BF%D1%80%D0%B5%D0%B4%D0%BC%D0%B5%D1%82%D0%BD%D0%BE%D0%B9%20%D0%BE%D0%B1%D0%BB%D0%B0%D1%81%D1%82%D0%B8%20-%201.png)

![image - 1.1. - Модель предметной области - 2.png](https://github.com/IvanSenchukov/OTUS-SoftwareArchitect-2022/blob/master/HW2/image%20-%201.1.%20-%20%D0%9C%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C%20%D0%BF%D1%80%D0%B5%D0%B4%D0%BC%D0%B5%D1%82%D0%BD%D0%BE%D0%B9%20%D0%BE%D0%B1%D0%BB%D0%B0%D1%81%D1%82%D0%B8%20-%202.png)

![image - 1.1. - Модель предметной области - 3.png](https://github.com/IvanSenchukov/OTUS-SoftwareArchitect-2022/blob/master/HW2/image%20-%201.1.%20-%20%D0%9C%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C%20%D0%BF%D1%80%D0%B5%D0%B4%D0%BC%D0%B5%D1%82%D0%BD%D0%BE%D0%B9%20%D0%BE%D0%B1%D0%BB%D0%B0%D1%81%D1%82%D0%B8%20-%203.png)

![image - 1.1. - Модель предметной области - 4.png](https://github.com/IvanSenchukov/OTUS-SoftwareArchitect-2022/blob/master/HW2/image%20-%201.1.%20-%20%D0%9C%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C%20%D0%BF%D1%80%D0%B5%D0%B4%D0%BC%D0%B5%D1%82%D0%BD%D0%BE%D0%B9%20%D0%BE%D0%B1%D0%BB%D0%B0%D1%81%D1%82%D0%B8%20-%204.png)


### 1.2. Решение 2

![image - 1.2. - Модель предметной области - 1.png](https://github.com/IvanSenchukov/OTUS-SoftwareArchitect-2022/blob/master/HW2/image%20-%201.2.%20-%20%D0%9C%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C%20%D0%BF%D1%80%D0%B5%D0%B4%D0%BC%D0%B5%D1%82%D0%BD%D0%BE%D0%B9%20%D0%BE%D0%B1%D0%BB%D0%B0%D1%81%D1%82%D0%B8%20-%201.png)

![image - 1.2. - Модель предметной области - 2.png](https://github.com/IvanSenchukov/OTUS-SoftwareArchitect-2022/blob/master/HW2/image%20-%201.2.%20-%20%D0%9C%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C%20%D0%BF%D1%80%D0%B5%D0%B4%D0%BC%D0%B5%D1%82%D0%BD%D0%BE%D0%B9%20%D0%BE%D0%B1%D0%BB%D0%B0%D1%81%D1%82%D0%B8%20-%202.png)

![image - 1.2. - Модель предметной области - 3.png](https://github.com/IvanSenchukov/OTUS-SoftwareArchitect-2022/blob/master/HW2/image%20-%201.2.%20-%20%D0%9C%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C%20%D0%BF%D1%80%D0%B5%D0%B4%D0%BC%D0%B5%D1%82%D0%BD%D0%BE%D0%B9%20%D0%BE%D0%B1%D0%BB%D0%B0%D1%81%D1%82%D0%B8%20-%203.png)

![image - 1.2. - Модель предметной области - 4.png](https://github.com/IvanSenchukov/OTUS-SoftwareArchitect-2022/blob/master/HW2/image%20-%201.2.%20-%20%D0%9C%D0%BE%D0%B4%D0%B5%D0%BB%D1%8C%20%D0%BF%D1%80%D0%B5%D0%B4%D0%BC%D0%B5%D1%82%D0%BD%D0%BE%D0%B9%20%D0%BE%D0%B1%D0%BB%D0%B0%D1%81%D1%82%D0%B8%20-%204.png)

# 2. Сценарии изменения

1. У студента есть уважительная причина для продления сроков сдачи задания
2. На элементарные задания (Hello World), может быть отменена проверка антиплагиата
3. При проверке на антиплагиат может использоваться решение других вендоров, а не только TurnItIn
4. Локальная проверка на антиплагиат не должна учитывать другие решения проверяемого студента
5. В критерии оценки задания могут входить не только проверки на выполнение тестов и проверка на плагиат, но и другие критерии (например, проверка статическим анализатором кода)
6. В задание может вноситься изменение
7. Может потребоваться аудит процесса проверки задания с детальным разбором информации о всех этапах проверки;
8. Решение может оказаться верным, но спорным с точки зрения реализации - преподаватель может отклонить его или начать спор для выяснения необходимых ему деталей. В ходе спора преподаватель и студент должны иметь возможность прикладывать к своим сообщениям документы, подтверждающие их точку зрения. Результат спора должен быть отслеживаемым, чтобы исключить возможность злоупотребления своими полномочиями преподавателей.

# 3. Оценка стоимости изменений для каждого решения

### 3.1. Решение 1
1. У студента есть уважительная причина для продления сроков сдачи задания - **C(Решение)**
2. На элементарные задания (Hello World), может быть отменена проверка антиплагиата - **С(Задание) + С(Сервис проверки решения)**
3. При проверке на антиплагиат может использоваться решение других вендоров, а не только TurnItIn - **С(Сервис Антиплагиата) + С(Сервис проверки решения) + С(Решение) + С(Оценка)**
4. Локальная проверка на антиплагиат не должна учитывать другие решения проверяемого студента - **С(Сервис Антиаплагиата)**
5. В критерии оценки задания могут входить не только проверки на выполнение тестов и проверка на плагиат, но и другие критерии (например, проверка статическим анализатором кода) - **С(Сервис проверки решения) + С(Новый сервис) + С(Решение) + С(Оценка)**
6. В задание может вноситься изменение - **изменений не требуется - создаётся новая версия**
7. Может потребоваться аудит процесса проверки задания с детальным разбором информации о всех этапах проверки; **С(Сервис проверки задания) + С(Объект, описывающий проверку)**
8. Решение может оказаться верным, но спорным с точки зрения реализации - преподаватель может отклонить его или начать спор для выяснения необходимых ему деталей. В ходе спора преподаватель и студент должны иметь возможность прикладывать к своим сообщениям документы, подтверждающие их точку зрения. Результат спора должен быть отслеживаемым, чтобы исключить возможность злоупотребления своими полномочиями преподавателей.  - **С (Решение) + С(Оценка)**

### 3.1. Решение 2
1. У студента есть уважительная причина для продления сроков сдачи задания - **C(Решение)**
2. На элементарные задания (Hello World), может быть отменена проверка антиплагиата - **С(Задание) + С(Сервис проверки решения)**
3. При проверке на антиплагиат может использоваться решение других вендоров, а не только TurnItIn - **С(Сервис Антиплагиата) + С(Оценка)**
4. Локальная проверка на антиплагиат не должна учитывать другие решения проверяемого студента - **С(Сервис Антиаплагиата)**
5. В критерии оценки задания могут входить не только проверки на выполнение тестов и проверка на плагиат, но и другие критерии (например, проверка статическим анализатором кода) - **С(Новый сервис) + С(Оценка)**
6. В задание может вноситься изменение - **изменений не требуется - создаётся новая версия**
7. Может потребоваться аудит процесса проверки задания с детальным разбором информации о всех этапах проверки; **С(Сервис проверки задания) + С(Объект, описывающий проверку)**
8. Решение может оказаться верным, но спорным с точки зрения реализации - преподаватель может отклонить его или начать спор для выяснения необходимых ему деталей. В ходе спора преподаватель и студент должны иметь возможность прикладывать к своим сообщениям документы, подтверждающие их точку зрения. Результат спора должен быть отслеживаемым, чтобы исключить возможность злоупотребления своими полномочиями преподавателей.  - **С (Решение) + С(Оценка)**

# 4. Сравнительный анализ и вывод.

Решение 2 показывает большую гибкость для сценариев 3 и 7.
Для остальных сценариев Решения имеют одинаковые показатели модифицируемости.

Рекомендовано для реализации Решение 2